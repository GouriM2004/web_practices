<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Poll Battles Demo - Feature Overview</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      rel="stylesheet"
    />
    <style>
      body {
        background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        min-height: 100vh;
        padding: 40px 20px;
      }

      .demo-container {
        max-width: 1200px;
        margin: 0 auto;
      }

      .demo-section {
        background: white;
        border-radius: 15px;
        padding: 40px;
        margin-bottom: 40px;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
      }

      .demo-title {
        color: #667eea;
        font-size: 2.5em;
        font-weight: bold;
        margin-bottom: 10px;
      }

      .demo-subtitle {
        color: #666;
        font-size: 1.2em;
        margin-bottom: 30px;
      }

      .feature-box {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 30px;
        border-radius: 12px;
        margin-bottom: 20px;
        text-align: center;
      }

      .feature-icon {
        font-size: 3em;
        margin-bottom: 15px;
      }

      .feature-name {
        font-size: 1.3em;
        font-weight: bold;
        margin-bottom: 10px;
      }

      .feature-desc {
        font-size: 0.95em;
        opacity: 0.9;
      }

      .file-list {
        background: #f8f9fa;
        border-left: 4px solid #667eea;
        padding: 20px;
        border-radius: 8px;
        margin-bottom: 20px;
      }

      .file-item {
        font-family: monospace;
        padding: 8px 0;
        border-bottom: 1px solid #eee;
      }

      .file-item:last-child {
        border-bottom: none;
      }

      .file-type-new {
        color: #28a745;
        font-weight: bold;
      }

      .file-type-modified {
        color: #ffc107;
        font-weight: bold;
      }

      .code-block {
        background: #2d2d2d;
        color: #f8f8f2;
        padding: 20px;
        border-radius: 8px;
        overflow-x: auto;
        margin-bottom: 20px;
        font-family: "Courier New", monospace;
        font-size: 0.9em;
        line-height: 1.5;
      }

      .flow-diagram {
        background: #f8f9fa;
        padding: 30px;
        border-radius: 12px;
        margin-bottom: 20px;
        text-align: center;
      }

      .flow-step {
        display: inline-block;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 15px 25px;
        border-radius: 8px;
        margin: 5px;
        font-weight: bold;
      }

      .flow-arrow {
        display: inline-block;
        color: #667eea;
        font-size: 1.5em;
        margin: 0 10px;
      }

      .comparison-table {
        width: 100%;
        border-collapse: collapse;
        margin-bottom: 20px;
      }

      .comparison-table th,
      .comparison-table td {
        padding: 15px;
        text-align: left;
        border-bottom: 1px solid #eee;
      }

      .comparison-table th {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        font-weight: bold;
      }

      .comparison-table tbody tr:hover {
        background: #f8f9fa;
      }

      .badge-custom {
        display: inline-block;
        padding: 8px 12px;
        border-radius: 20px;
        font-size: 0.85em;
        font-weight: bold;
        margin-bottom: 10px;
      }

      .badge-new {
        background: #28a745;
        color: white;
      }

      .badge-modified {
        background: #ffc107;
        color: #333;
      }

      .benefits-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
        margin-bottom: 20px;
      }

      .benefit-card {
        background: #f8f9fa;
        padding: 20px;
        border-radius: 12px;
        border-left: 4px solid #667eea;
      }

      .benefit-icon {
        font-size: 2em;
        margin-bottom: 10px;
      }

      .benefit-title {
        font-weight: bold;
        color: #333;
        margin-bottom: 8px;
      }

      .benefit-text {
        color: #666;
        font-size: 0.9em;
      }

      .api-endpoint {
        background: #f8f9fa;
        padding: 15px;
        border-left: 4px solid #667eea;
        margin-bottom: 15px;
        border-radius: 8px;
        font-family: monospace;
      }

      .api-method {
        color: #667eea;
        font-weight: bold;
        margin-right: 10px;
      }

      .installation-step {
        background: #f8f9fa;
        padding: 20px;
        border-radius: 8px;
        margin-bottom: 15px;
        border-left: 4px solid #28a745;
      }

      .step-number {
        display: inline-block;
        background: #28a745;
        color: white;
        width: 35px;
        height: 35px;
        border-radius: 50%;
        text-align: center;
        line-height: 35px;
        font-weight: bold;
        margin-right: 15px;
      }
    </style>
  </head>
  <body>
    <div class="demo-container">
      <!-- Header -->
      <div class="demo-section text-center">
        <h1 class="demo-title">‚öîÔ∏è Poll Battles</h1>
        <p class="demo-subtitle">
          A Competitive Voting System for Your Poll App
        </p>
        <p style="color: #999; font-size: 1.1em">
          Two polls compete. Voters decide the winner. Champions get trending.
        </p>
      </div>

      <!-- Overview -->
      <div class="demo-section">
        <h2 class="demo-title">üìå Overview</h2>
        <p style="font-size: 1.1em; color: #555; line-height: 1.8">
          Poll Battles is a gamified voting feature where two polls compete in
          real-time. Voters select their preferred poll, and the winner is
          determined by vote count. Winners are tracked and ranked on a trending
          page, creating an engaging, competitive experience.
        </p>
      </div>

      <!-- Three Main Features -->
      <div class="demo-section">
        <h2 class="demo-title">üéÆ Three Core Features</h2>
        <div
          style="
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
          "
        >
          <div class="feature-box">
            <div class="feature-icon">‚ö°</div>
            <div class="feature-name">Battle Arena</div>
            <div class="feature-desc">
              Real-time voting interface where two polls face off. Live vote
              updates every 3 seconds with beautiful visualizations.
            </div>
          </div>
          <div class="feature-box">
            <div class="feature-icon">üèÜ</div>
            <div class="feature-name">Trending Page</div>
            <div class="feature-desc">
              Leaderboard showing polls ranked by win rate. Includes battle
              history and competitor statistics.
            </div>
          </div>
          <div class="feature-box">
            <div class="feature-icon">üìä</div>
            <div class="feature-name">Analytics</div>
            <div class="feature-desc">
              Comprehensive battle statistics: wins, losses, win rate, margin of
              victory, and historical data.
            </div>
          </div>
        </div>
      </div>

      <!-- File Structure -->
      <div class="demo-section">
        <h2 class="demo-title">üìÅ Files Created & Modified</h2>

        <h4 style="margin-top: 30px; color: #667eea">New Files</h4>
        <div class="file-list">
          <div class="file-item">
            <span class="file-type-new">‚úì NEW</span> poll_battles.php - Battle
            arena interface
          </div>
          <div class="file-item">
            <span class="file-type-new">‚úì NEW</span> trending.php - Leaderboard
            and history
          </div>
          <div class="file-item">
            <span class="file-type-new">‚úì NEW</span> api_poll_battles.php - REST
            API endpoints
          </div>
          <div class="file-item">
            <span class="file-type-new">‚úì NEW</span>
            includes/Models/PollBattle.php - Business logic
          </div>
          <div class="file-item">
            <span class="file-type-new">‚úì NEW</span> sql/add_poll_battles.sql -
            Database schema
          </div>
          <div class="file-item">
            <span class="file-type-new">‚úì NEW</span> POLL_BATTLES_FEATURE.md -
            Full documentation
          </div>
          <div class="file-item">
            <span class="file-type-new">‚úì NEW</span> POLL_BATTLES_QUICKSTART.md
            - Quick start guide
          </div>
          <div class="file-item">
            <span class="file-type-new">‚úì NEW</span>
            POLL_BATTLES_IMPLEMENTATION.md - Implementation details
          </div>
        </div>

        <h4 style="margin-top: 30px; color: #ffc107">Modified Files</h4>
        <div class="file-list">
          <div class="file-item">
            <span class="file-type-modified">‚ö† UPDATED</span>
            includes/bootstrap.php - Added model autoload
          </div>
          <div class="file-item">
            <span class="file-type-modified">‚ö† UPDATED</span> index.php - Added
            navigation buttons
          </div>
        </div>
      </div>

      <!-- Database Schema -->
      <div class="demo-section">
        <h2 class="demo-title">üóÑÔ∏è Database Schema</h2>

        <h4 style="margin-top: 20px; color: #667eea">New Tables</h4>
        <div class="code-block">
          <strong>poll_battles</strong>
          - id (PRIMARY KEY) - poll_a_id (FOREIGN KEY) - poll_b_id (FOREIGN KEY)
          - winner_id (FOREIGN KEY, 0 if ongoing) - loser_id (FOREIGN KEY, 0 if
          ongoing) - votes_a (INT) - votes_b (INT) - margin_of_victory (INT) -
          created_at (DATETIME, indexed)

          <strong>battle_votes</strong>
          - id (PRIMARY KEY) - battle_id (FOREIGN KEY, indexed) - voter_ip
          (VARCHAR, indexed) - voter_id (FOREIGN KEY, nullable) - voted_for_id
          (FOREIGN KEY) - created_at (DATETIME, indexed) - UNIQUE CONSTRAINT:
          (battle_id, voter_ip, voter_id)
        </div>

        <h4 style="margin-top: 20px; color: #667eea">New Columns on polls</h4>
        <div class="code-block">
          - battle_wins INT DEFAULT 0 - battle_losses INT DEFAULT 0 -
          battle_win_rate DECIMAL(5,2) DEFAULT 0.00
        </div>
      </div>

      <!-- API Endpoints -->
      <div class="demo-section">
        <h2 class="demo-title">üåê REST API Endpoints</h2>

        <div class="api-endpoint">
          <span class="api-method">GET</span>
          /api_poll_battles.php?action=get_battle
          <div style="margin-top: 8px; color: #666; font-size: 0.9em">
            Returns the current active battle with poll questions and vote
            counts
          </div>
        </div>

        <div class="api-endpoint">
          <span class="api-method">POST</span> /api_poll_battles.php?action=vote
          <div style="margin-top: 8px; color: #666; font-size: 0.9em">
            Parameters: battle_id, poll_id | Records a vote in battle
          </div>
        </div>

        <div class="api-endpoint">
          <span class="api-method">GET</span>
          /api_poll_battles.php?action=leaderboard
          <div style="margin-top: 8px; color: #666; font-size: 0.9em">
            Returns top 20 polls ranked by win rate with full statistics
          </div>
        </div>

        <div class="api-endpoint">
          <span class="api-method">GET</span>
          /api_poll_battles.php?action=battle_history
          <div style="margin-top: 8px; color: #666; font-size: 0.9em">
            Returns last 20 completed battles with results
          </div>
        </div>

        <div class="api-endpoint">
          <span class="api-method">GET</span>
          /api_poll_battles.php?action=trending
          <div style="margin-top: 8px; color: #666; font-size: 0.9em">
            Returns top 10 trending polls by win rate
          </div>
        </div>
      </div>

      <!-- User Flow -->
      <div class="demo-section">
        <h2 class="demo-title">üîÑ User Flow</h2>
        <div class="flow-diagram">
          <div style="margin-bottom: 20px">
            <span class="flow-step">1. Home Page</span>
            <span class="flow-arrow">‚Üí</span>
            <span class="flow-step">2. Click Battle</span>
            <span class="flow-arrow">‚Üí</span>
            <span class="flow-step">3. Vote</span>
          </div>
          <div style="margin-bottom: 20px">
            <span class="flow-step">4. Live Updates</span>
            <span class="flow-arrow">‚Üí</span>
            <span class="flow-step">5. Winner</span>
            <span class="flow-arrow">‚Üí</span>
            <span class="flow-step">6. Next Battle</span>
          </div>
          <div>
            <span class="flow-step">OR View Trending</span>
            <span class="flow-arrow">‚Üí</span>
            <span class="flow-step">See Leaderboard</span>
            <span class="flow-arrow">‚Üí</span>
            <span class="flow-step">View History</span>
          </div>
        </div>
      </div>

      <!-- Benefits -->
      <div class="demo-section">
        <h2 class="demo-title">‚ú® Key Benefits</h2>
        <div class="benefits-grid">
          <div class="benefit-card">
            <div class="benefit-icon">üéÆ</div>
            <div class="benefit-title">Gamification</div>
            <div class="benefit-text">
              Competitive voting creates engagement and encourages participation
            </div>
          </div>
          <div class="benefit-card">
            <div class="benefit-icon">‚ö°</div>
            <div class="benefit-title">Real-time</div>
            <div class="benefit-text">
              Live vote updates every 3 seconds keep users engaged
            </div>
          </div>
          <div class="benefit-card">
            <div class="benefit-icon">üìä</div>
            <div class="benefit-title">Analytics</div>
            <div class="benefit-text">
              Comprehensive stats on poll performance and voter preferences
            </div>
          </div>
          <div class="benefit-card">
            <div class="benefit-icon">üé®</div>
            <div class="benefit-title">Beautiful UI</div>
            <div class="benefit-text">
              Modern gradient design with smooth animations
            </div>
          </div>
          <div class="benefit-card">
            <div class="benefit-icon">üì±</div>
            <div class="benefit-title">Responsive</div>
            <div class="benefit-text">
              Works perfectly on desktop, tablet, and mobile devices
            </div>
          </div>
          <div class="benefit-card">
            <div class="benefit-icon">üîí</div>
            <div class="benefit-title">Secure</div>
            <div class="benefit-text">
              Vote deduplication prevents fraud and ensures fair competition
            </div>
          </div>
        </div>
      </div>

      <!-- Installation -->
      <div class="demo-section">
        <h2 class="demo-title">‚öôÔ∏è Installation (2 Steps)</h2>

        <div class="installation-step">
          <span class="step-number">1</span>
          <strong>Run Database Migration</strong>
          <div class="code-block" style="margin-top: 15px">
            mysql -u your_username -p poll_app < sql/add_poll_battles.sql
          </div>
        </div>

        <div class="installation-step">
          <span class="step-number">2</span>
          <strong>Visit the Feature</strong>
          <div style="margin-top: 15px; color: #666">
            Go to <code>http://your-domain/poll_app/</code><br />
            Click the <strong>"Play Poll Battles"</strong> button
          </div>
        </div>

        <div
          style="
            background: #d4edda;
            border-left: 4px solid #28a745;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
          "
        >
          <strong style="color: #155724">‚úì That's it!</strong> The feature is
          ready to use.
        </div>
      </div>

      <!-- Feature Comparison -->
      <div class="demo-section">
        <h2 class="demo-title">üìä Before vs After</h2>
        <table class="comparison-table">
          <thead>
            <tr>
              <th>Feature</th>
              <th>Before</th>
              <th>After</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>Voting Types</strong></td>
              <td>Standard polls only</td>
              <td>Standard polls + Battles</td>
            </tr>
            <tr>
              <td><strong>Engagement</strong></td>
              <td>One poll per user</td>
              <td>Competitive matchups with leaderboards</td>
            </tr>
            <tr>
              <td><strong>Real-time Updates</strong></td>
              <td>Manual refresh needed</td>
              <td>Auto-updates every 3 seconds</td>
            </tr>
            <tr>
              <td><strong>Trending</strong></td>
              <td>Basic results view</td>
              <td>Full leaderboard with rankings & history</td>
            </tr>
            <tr>
              <td><strong>Analytics</strong></td>
              <td>Vote counts & percentages</td>
              <td>Win/loss records, win rates, battle history</td>
            </tr>
            <tr>
              <td><strong>Gamification</strong></td>
              <td>None</td>
              <td>Battle wins, leaderboards, rankings</td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- Statistics -->
      <div class="demo-section">
        <h2 class="demo-title">üìà What Gets Tracked</h2>
        <div
          style="
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
          "
        >
          <div
            style="
              background: #f8f9fa;
              padding: 20px;
              border-radius: 12px;
              text-align: center;
            "
          >
            <div style="font-size: 1.5em; color: #667eea; font-weight: bold">
              Battles Won
            </div>
            <div style="color: #666; margin-top: 8px">
              Total victories per poll
            </div>
          </div>
          <div
            style="
              background: #f8f9fa;
              padding: 20px;
              border-radius: 12px;
              text-align: center;
            "
          >
            <div style="font-size: 1.5em; color: #667eea; font-weight: bold">
              Battles Lost
            </div>
            <div style="color: #666; margin-top: 8px">
              Total defeats per poll
            </div>
          </div>
          <div
            style="
              background: #f8f9fa;
              padding: 20px;
              border-radius: 12px;
              text-align: center;
            "
          >
            <div style="font-size: 1.5em; color: #667eea; font-weight: bold">
              Win Rate
            </div>
            <div style="color: #666; margin-top: 8px">
              Percentage of battles won
            </div>
          </div>
          <div
            style="
              background: #f8f9fa;
              padding: 20px;
              border-radius: 12px;
              text-align: center;
            "
          >
            <div style="font-size: 1.5em; color: #667eea; font-weight: bold">
              Vote Counts
            </div>
            <div style="color: #666; margin-top: 8px">
              Votes per poll per battle
            </div>
          </div>
          <div
            style="
              background: #f8f9fa;
              padding: 20px;
              border-radius: 12px;
              text-align: center;
            "
          >
            <div style="font-size: 1.5em; color: #667eea; font-weight: bold">
              Margin
            </div>
            <div style="color: #666; margin-top: 8px">
              Vote difference at end
            </div>
          </div>
          <div
            style="
              background: #f8f9fa;
              padding: 20px;
              border-radius: 12px;
              text-align: center;
            "
          >
            <div style="font-size: 1.5em; color: #667eea; font-weight: bold">
              History
            </div>
            <div style="color: #666; margin-top: 8px">
              Complete battle records
            </div>
          </div>
        </div>
      </div>

      <!-- Tech Stack -->
      <div class="demo-section">
        <h2 class="demo-title">üõ†Ô∏è Technology Stack</h2>
        <div
          style="
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
          "
        >
          <div style="text-align: center">
            <strong style="color: #667eea">Backend</strong>
            <div style="color: #666; margin-top: 10px">
              PHP 7.4+<br />MySQL/MariaDB<br />RESTful API
            </div>
          </div>
          <div style="text-align: center">
            <strong style="color: #667eea">Frontend</strong>
            <div style="color: #666; margin-top: 10px">
              HTML5<br />CSS3 with Gradients<br />Vanilla JavaScript
            </div>
          </div>
          <div style="text-align: center">
            <strong style="color: #667eea">Libraries</strong>
            <div style="color: #666; margin-top: 10px">
              Bootstrap 5.3.2<br />Font Awesome 6.4.0<br />AJAX/Fetch API
            </div>
          </div>
          <div style="text-align: center">
            <strong style="color: #667eea">Security</strong>
            <div style="color: #666; margin-top: 10px">
              Prepared Statements<br />XSS Protection<br />Vote Deduplication
            </div>
          </div>
        </div>
      </div>

      <!-- Next Steps -->
      <div
        class="demo-section"
        style="
          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
          color: white;
        "
      >
        <h2 style="color: white; margin-bottom: 30px">üöÄ Ready to Launch?</h2>
        <div
          style="
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
          "
        >
          <div style="text-align: center">
            <h4>Step 1: Migrate Database</h4>
            <p style="font-size: 0.9em; opacity: 0.9">
              Run the SQL file to create tables
            </p>
          </div>
          <div style="text-align: center">
            <h4>Step 2: Create Polls</h4>
            <p style="font-size: 0.9em; opacity: 0.9">
              Add active polls in admin panel
            </p>
          </div>
          <div style="text-align: center">
            <h4>Step 3: Share & Promote</h4>
            <p style="font-size: 0.9em; opacity: 0.9">
              Direct users to poll battles page
            </p>
          </div>
          <div style="text-align: center">
            <h4>Step 4: Monitor Trends</h4>
            <p style="font-size: 0.9em; opacity: 0.9">
              Watch winning polls in real-time
            </p>
          </div>
        </div>
      </div>

      <!-- Documentation Links -->
      <div class="demo-section text-center">
        <h2 class="demo-title">üìö Documentation</h2>
        <p style="color: #666; margin-bottom: 20px; font-size: 1.1em">
          Full documentation is available in your project files
        </p>
        <div
          style="
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
          "
        >
          <div style="background: #f8f9fa; padding: 20px; border-radius: 12px">
            <strong style="color: #667eea">POLL_BATTLES_FEATURE.md</strong>
            <p style="color: #666; margin-top: 10px; font-size: 0.9em">
              Complete feature documentation with API reference and examples
            </p>
          </div>
          <div style="background: #f8f9fa; padding: 20px; border-radius: 12px">
            <strong style="color: #667eea">POLL_BATTLES_QUICKSTART.md</strong>
            <p style="color: #666; margin-top: 10px; font-size: 0.9em">
              Quick installation and setup guide with troubleshooting
            </p>
          </div>
          <div style="background: #f8f9fa; padding: 20px; border-radius: 12px">
            <strong style="color: #667eea"
              >POLL_BATTLES_IMPLEMENTATION.md</strong
            >
            <p style="color: #666; margin-top: 10px; font-size: 0.9em">
              Implementation details, file structure, and workflow diagrams
            </p>
          </div>
        </div>
      </div>

      <!-- Footer -->
      <div class="demo-section text-center" style="background: #f8f9fa">
        <h3 style="color: #333; margin-bottom: 15px">
          ‚úÖ Feature Complete & Ready to Use
        </h3>
        <p style="color: #666; font-size: 1.1em; margin-bottom: 0">
          Poll Battles transforms your poll app into a competitive, engaging
          platform with real-time voting and trending analytics.
        </p>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
